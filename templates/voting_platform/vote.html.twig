{% extends base_layout %}

{% block page_title 'Vote élection' %}
{% set designation = election.designation %}

{% block voting_platform_content %}
    <div class="l__wrapper--slim election-vote b__nudge--bottom-60">
        <h2 class="text--body text--black text--default-large b__nudge--bottom-larger">{{ block('vote_step_pool_title') }}</h2>

        {{ form_start(form) }}

            {{ form_errors(form.poolChoice) }}

            <div class="l__row l__row--wrap l__row--h-stretch l__row--v-stretch">
                {% for choice in form.poolChoice %}
                    {% include 'voting_platform/vote_step/' ~ (designation.isMajorityType ? '_majority_vote') ~ '_candidate_box.html.twig' with {
                        candidate_group: candidate_groups|filter(group => group.uuid.toString == choice.vars.name)|first,
                        form: choice
                    } %}
                {% endfor %}
            </div>

            <div>
                {{ form_row(form.confirm, {label: 'Confirmer', attr: {class: 'btn btn--blue btn--large-and-full b__nudge--top-large'}}) }}
                {{ form_row(form.back, {label: '⟵ Retour', attr: {class: 'btn btn--ghosting--blue btn--large-and-full b__nudge--top-15'}}) }}
            </div>
        {{ form_end(form) }}
    </div>
{% endblock %}
